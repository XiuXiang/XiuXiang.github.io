[{"title":"SLAM_14 homework","url":"/2019/12/15/SLAM-14-homework/","content":"# ch1\n\n[ch1](https://blog.csdn.net/sinat_39416814/article/details/82744319 )\n\n----\n\n# ch2  \n[ch2](https://blog.csdn.net/w_pebble/article/details/80090247) \n\n---\n\n# ch3  \n[ch3](https://blog.csdn.net/qq_17032807/article/details/84928910)\n\n\n\n[ch3](https://www.cnblogs.com/newneul/p/8306430.html)\n\n\n\n[ch3](https://www.cnblogs.com/newneul/p/8306442.html)\n\n\n\n[ch3](https://www.cnblogs.com/newneul/p/8306456.html) \n\n\n\n**homework 1**\n$$\n\\bf{e,e_{new}}\\\\\n\\bf{R=e^Te_{new}},R^TR=e_{new}^Tee^Te_{new}=E\n$$\n\n**homework 3**\n$$\n\\mathbf{q}=q_0+q_1\\bf{i}+q_2\\bf{j}+q_3\\bf{k}\n\\\\\n\\mathbf{q}^{-1} = q_0-q_1\\bf{i}-q_2\\bf{j}-q_3\\bf{k}\n\\\\\n\\mathbf{p} = (p_x, p_y, p_z) = p_x\\mathbf{i} + p_y\\mathbf{j} + p_z\\mathbf{k}\n$$\n\n$\\bf{p}$ is an ordinary vector in 3-dimensional space, considered as a quaternion with a real coordinate equal to zero. \n$$\n\\mathbf{p} = (p_x, p_y, p_z) = p_x\\mathbf{i} + p_y\\mathbf{j} + p_z\\mathbf{k}\n$$\n$\\bf{q}$ is quaternion, $\\bf{q}^{-1}$ is the inverse of $\\bf{q}$ .\n$$\n\\mathbf{q}=q_0+q_1\\bf{i}+q_2\\bf{j}+q_3\\bf{k}\n\\\\\n\\mathbf{q}^{-1} = q_0-q_1\\bf{i}-q_2\\bf{j}-q_3\\bf{k}\n$$\n$\\bf{p}'$ is the rotated vector.\n$$\n\\mathbf{p'} = \\mathbf{q} \\mathbf{p} \\mathbf{q}^{-1}\n$$\n\n\nderive $p'$ is a quaternion with a real coordinate equal to zero\n$$\n   \\begin{align}\n   \\mathbf{p'} &= \\mathbf{q} \\mathbf{p} \\mathbf{q}^{-1} \\\\\n   & =( q_0+q_1\\bf{i}+q_2\\bf{j}+q_3\\bf{k} )(p_x\\mathbf{i} + p_y\\mathbf{j} + p_z\\mathbf{k})(q_0-q_1\\bf{i}-q_2\\bf{j}-q_3\\bf{k}) \\\\\n   & =[-q_1p_x-q_2p_y-q_3p_z+(q_0p_x-q_2p_z-q_3p_y)\\bf{i}+\\\\\n   &\\quad (q_0p_y-q_1p_z+q_3p_x)\\bf{j}+(q_0p_z+q_1p_z-q_2p_x)\\bf{k}](q_0-q_1\\bf{i}-q_2\\bf{j}-q_3\\bf{k}) \\\\\n   & = (-q_0q_1p_k-q_0q_2p_y-q_0q_3p_z)+(q_1^2q_x+q_1q_2p_y+q_1q_3p_z)\\bf{i}+\\\\\n   &\\quad(q_1q_2p_x+q_2^2p_y+q_2q_3p_z)\\bf{j}+(q_1q_3p_x+q_2q_3p_y+q_3^2p_z)\\bf{k}+ \\\\\n   & \\quad (q_0q_1p_x-q_1q_2p_z-q_1q_3p_y)+(q_0^2p_x-q_0q_2p_z-q_0q_3p_y)\\bf{i}+\\\\\n   &\\quad(q_0q_3p_x-q_2q_3p_z-q_3^2p_y)\\bf{j}+(-q_0q_2p_x+q_2^2p_z+q_2q_3p_y)\\bf{k}+\\\\\n   & \\quad (q_0q_2p_y-q_1q_2p_z+q_2q_3p_x)+(-q_0q_3p_y+q_1q_3p_z-q_3^2p_x)\\bf{i}+\\\\\n   &\\quad(q_0^2p_y-q_0q_1p_z+q_0q_3p_x)\\bf{j}+(q_0q_1p_y-q_1^2p_z+q_1q_3p_x)\\bf{k}+\\\\\n   & \\quad (q_0q_3p_z+q_1q_3p_y-q_2q_3p_x)+(q_0q_2p_z+q_1q_2p_y-q_2^2p_x)\\bf{i}+\\\\\n   &\\quad(-q_0q_1p_z-q_1^2p_y+q_1q_2p_x)\\bf{j}+(q_0^2-q_0q_1p_y-q_0q_2p_x)\\bf{k}\\\\\n   & = [(1-2q_2^2-2q_3^2)p_x+(2q_1q_2-2q_0q_3)p_y+(2q_1q_3+2q_0q_2)p_z]\\bf{i}+\\\\\n   &\\quad [(2q_1q_2+2q_0q_3)p_x+(1-2q_1^2-2q_3^2)p_y+(2q_2q_3-2q_0q_1)p_z]\\bf{j}+\\\\\n   &\\quad [(2q_1q_3-2q_0q_2)p_x+(2q_2q_3+2q_0q_1)p_y+(1-2q_1^2-2q_2^2)p_z]\\bf{k}\\\\\n   &= \\left[ {\\begin{array}{*{20}{c}}{1 - 2q_2^2 - 2q_3^2}&{2{q_1}{q_2} - 2{q_0}{q_3}}&{2{q_1}{q_3} + 2{q_0}{q_2}}\\\\{2{q_1}{q_2} + 2{q_0}{q_3}}&{1 - 2q_1^2 - 2q_3^2}&{2{q_2}{q_3} - 2{q_0}{q_1}}\\\\{2{q_1}{q_3} - 2{q_0}{q_2}}&{2{q_2}{q_3} + 2{q_0}{q_1}}&{1 - 2q_1^2 - 2q_2^2}\\end{array}} \\right] \n   \\left[ {\\begin{array}{*{20}{c}}\n   p_x\\\\\n   p_y\\\\\n   p_z\n   \\end{array}} \\right]\n   \\end{align}\n$$\n\n","tags":["SLAM"]},{"title":"Doing work","url":"/2019/12/14/Doing-work/","content":"\nI think this page about passive transformation needs to change.\n\n$$\n\\bf{e}=[\\bf{e_x},\\bf{e_y},\\bf{e_z}]^T,\\bf{e_{rot}}=[\\bf{e_X},\\bf{e_Y},\\bf{e_z}]^T\n$$\n\n$$\n\\bf{e} \\cdot \\bf{e^T} \\cdot \\bf{e_{rot}}=\\bf{e_{rot}} \\\\\ndefine \\quad R = \\bf{e^T} \\cdot \\bf{e_{rot}} \\\\\n\\bf{e} \\cdot \\bf{R}=\\bf{e_{rot}}\n$$\n\n $ \\bf{R^T}=\\bf{e_{rot}^T} \\cdot \\bf{e} $ ,the new coordinates $ \\bf{v_\\bf{rot}}=[\\bf{v_X},\\bf{v_Y},\\bf{v_Z}]^T $ of $ \\bf{v} $ with respect to the new coordinate sysetm XYZ are given by :\n$$\n\\begin{align}\n\\bf{e}\\bf{v}&=\\bf{e_{rot}} \\cdot \\bf{v_{rot}} \\\\\n\\bf{e_{rot}^T} \\cdot \\bf{e} \\cdot \\bf{v}&=\\bf{v_{rot}} \\\\\n\\bf{R^T} \\cdot \\bf{v}&=\\bf{v_{rot}}\n\\end{align}\n$$","tags":["Wiki"]},{"title":"Some wiki Links about Rotation","url":"/2019/12/13/Some-Links-about-Rotation/","content":"\nTo understand Rotation, There is some wonderful wiki links:\n\n* [Euler angles](https://en.wikipedia.org/wiki/Euler_angles#Definition_by_extrinsic_rotations) I have read this page carefully. This article is very useful to understand Euler angles.\n\n* [Active and passive transformation](https://en.wikipedia.org/wiki/Active_and_passive_transformation#Passive_transformation) This page are mainly explain the distinction and connection of active and passive transformation.\n\n* [Rodrigues' rotation formula]([https://en.wikipedia.org/wiki/Rodrigues%27_rotation_formula](https://en.wikipedia.org/wiki/Rodrigues'_rotation_formula)) There is two clear and concise sentences : this can be used to transform all three [basis vectors](https://en.wikipedia.org/wiki/Basis_vector) to compute a [rotation matrix](https://en.wikipedia.org/wiki/Rotation_matrix) in [SO(3)](https://en.wikipedia.org/wiki/Rotation_group_SO(3)), the group of all rotation matrices, from an [axis–angle representation](https://en.wikipedia.org/wiki/Axis–angle_representation). In other words, the Rodrigues' formula provides an algorithm to compute the [exponential map](https://en.wikipedia.org/wiki/Matrix_exponential) from **so**(3), the [Lie algebra](https://en.wikipedia.org/wiki/Lie_algebra) of SO(3), to SO(3) without actually computing the full matrix exponential.\n\n* [Rotation Matrix](https://en.wikipedia.org/wiki/Rotation_matrix) I don't read every world, some of the content is beyond my knowledge.\n\n* [Orthogonal matrix](https://en.wikipedia.org/wiki/Orthogonal_matrix) When I forgot sth about orthogonal matrix or be ambiguous about the properties of orthogonal matrix, I would open this link.\n* [Permutation notation](https://en.wikiversity.org/wiki/Permutation_notation) I open this link from other links, but I can't understand this. Maybe It's useless for me, may useful. Well, maybe I will figure it out in the future. \n\n\n\n","tags":["Rotation"]},{"title":"Euler Angel and Gimbal lock","url":"/2019/12/11/Euler_Angel_and_Gimbal_lock/","content":"\n# Euler Angel and Gimbal lock  \n\n## what is Euler Angel\n\nA rotation of 3D space can be represented numerically with Euler angels, but unfortunately they suffer from the gimbal lock problem.  \n\n## what is gimbal  \n\nA gimbal is a ring that is suspended so it can rotate about an axis. Gimbals are typically nested one within another to accommodate rotation about multiple axes. \n\n## Gimbal lock in coordinate system\n\nGimbal lock is the loss of one degree of freedom in a three-dimensional, three-gimbal mechanism that occurs when the axes of two of the three gimbals are driven into a parallel configuration, \"locking\"the system into rotation in a degenerate two-dimensional space.  \n\nThe word lock is misleading : no gimbal is restrained. All three gimbals can still rotate freely about their respective axes of suspension. Nevertheless, because of the parallel orientation of two of the gimbal's axes there is no gimbal available to accommodate rotation about one axis.    \n\n![gimbal lock in coordinate system](https://upload.wikimedia.org/wikipedia/commons/4/49/Gimbal_Lock_Plane.gif)  \n\n### normal situation\n\nFor example, it is possible to imagine an airplane rotated by the above-mentioned Eular angles using the **X-Y-Z** (**r-p-y**)convention.   \n\n\n\n![airplane coordinate system](https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Yaw_Axis_Corrected.svg/325px-Yaw_Axis_Corrected.svg.png \"airplane_coordinate_system\")\n\n|       | Roll Axis | Pitch Axis | Yaw Axis |\n| ----- | :-------- | ---------- | -------- |\n|       | X Axis    | Y Axis     | Z Axis   |\n| Value | $\\alpha$  | $\\beta$    | $\\gamma$ |\n\n{% asset_img Gimbal_xyz.png %} \n\n\n\n{% asset_img rotation_rpy.png%}\n\n\n\nA rotation in 3D space can be represented numerically with matrices in several ways. one of these representation is:\n$$\n\\begin{align}\n\tR &= \n\t\t\\begin{bmatrix}\n\t\t\t\\cos \\gamma & -\\sin \\gamma & 0 \\\\\n\t\t\t\\sin \\gamma & \\cos \\gamma & 0 \\\\\n\t\t\t0 & 0 & 1 \n\t\t\t\\end{bmatrix} \n\t\t\\begin{bmatrix}\n\t\t\t\t\\cos \\beta & 0 & \\sin \\beta \\\\\n\t\t\t\t0 & 1 & 0 \\\\\n\t\t\t\t-\\sin \\beta & 0 & \\cos \\beta \n\t\t\t\t\\end{bmatrix} \n\t\t\\begin{bmatrix}\n\t\t\t1 & 0 & 0 \\\\\n\t\t\t0 & \\cos \\alpha & -\\sin \\alpha \\\\\n\t\t\t0 & \\sin \\alpha & \\cos \\alpha \t\t\n\t\t\t\\end{bmatrix}\n\t\t\\\\ \n\t\t&=\n\t\t\t\\begin{bmatrix}\n\t\t\t\t\\cos \\gamma \\cos \\beta & -\\sin \\gamma & \\cos \\gamma \\sin \\beta \\\\\n\t\t\t\t\\sin \\gamma \\cos \\beta & \\cos \\gamma & \\sin \\gamma \\sin \\beta \\\\\n\t\t\t\t-\\sin \\beta & 0 & \\cos \\beta \n\t\t\t\\end{bmatrix}\n\t\t\t\\begin{bmatrix}\n\t\t\t\t1 & 0 & 0 \\\\\n\t\t\t\t0 & \\cos \\alpha & -\\sin \\alpha \\\\\n\t\t\t\t0 & \\sin \\alpha & \\cos \\alpha\n\t\t\t\\end{bmatrix}\n\t\t\\\\\n\t\t&= \n\t\t\t\\begin{bmatrix}\n\t\t\t\t \\cos \\gamma \\cos \\beta & -\\sin \\gamma \\cos \\alpha + \\cos \\gamma \\sin \\beta \\sin \\alpha & \\sin \\gamma \\sin \\alpha + \\cos \\gamma \\sin \\beta \\cos \\alpha \\\\\n\t\t\t\t\\sin \\gamma \\cos \\beta & \\cos \\gamma \\cos \\alpha + \\sin \\gamma \\sin \\beta \\sin \\alpha & -\\cos \\gamma \\sin \\alpha + \\sin \\gamma \\sin \\beta \\cos \\alpha \\\\\n\t\t\t\t-\\sin \\beta & \\cos \\beta \\sin \\alpha & \\cos \\beta \\cos \\alpha \n\t\t\t\\end{bmatrix}\n\\end{align}\n$$\n\n### Gimbal Lock situation\n\n{% asset_img  Gimbal_Lock.gif %}\n\nAn example worth examining happens when  $\\beta = \\frac{\\pi}{2}$. Knowing that $\\cos \\frac{\\pi}{2} = 0$ and $\\sin \\frac{\\pi}{2} = 1$.  The above expression becomes equal to:  \n\n\n$$\n\\begin{align}\n\tR &= \n\t\t\\begin{bmatrix}\n\t\t\t\\cos \\gamma & -\\sin \\gamma & 0 \\\\\n\t\t\t\\sin \\gamma & \\cos \\gamma & 0 \\\\\n\t\t\t0 & 0 & 1 \n\t\t\t\\end{bmatrix} \n\t\t\\begin{bmatrix}\n\t\t\t\t\\cos \\beta & 0 & \\sin \\beta \\\\\n\t\t\t\t0 & 1 & 0 \\\\\n\t\t\t\t-\\sin \\beta & 0 & \\cos \\beta \n\t\t\t\t\\end{bmatrix} \n\t\t\\begin{bmatrix}\n\t\t\t1 & 0 & 0 \\\\\n\t\t\t0 & \\cos \\alpha & -\\sin \\alpha \\\\\n\t\t\t0 & \\sin \\alpha & \\cos \\alpha \t\t\n\t\t\t\\end{bmatrix}\n\t\t\\\\\n\t\t&=  \n\t\t\\begin{bmatrix}\n\t\t\t\\cos \\gamma & -\\sin \\gamma & 0 \\\\\n\t\t\t\\sin \\gamma & \\cos \\gamma & 0 \\\\\n\t\t\t0 & 0 & 1 \n\t\t\t\\end{bmatrix} \n\t\t\\begin{bmatrix}\n\t\t\t\t0 & 0 & 1 \\\\\n\t\t\t\t0 & 1 & 0 \\\\\n\t\t\t\t-1 & 0 & 0 \n\t\t\t\t\\end{bmatrix} \n\t\t\\begin{bmatrix}\n\t\t\t1 & 0 & 0 \\\\\n\t\t\t0 & \\cos \\alpha & -\\sin \\alpha \\\\\n\t\t\t0 & \\sin \\alpha & \\cos \\alpha \t\t\n\t\t\t\\end{bmatrix}\n\t\t\\\\\n\t\t&=\n\t\t\\begin{bmatrix}\n\t\t\t0 & -\\sin \\gamma & \\cos \\gamma \\\\\n\t\t\t0 & \\cos \\gamma & \\sin \\gamma \\\\\n\t\t\t-1 & 0 & 0 \t\t\n\t\t\t\\end{bmatrix}\n\t\t\\begin{bmatrix}\n\t\t\t1 & 0 & 0 \\\\\n\t\t\t0 & \\cos \\alpha & -\\sin \\alpha \\\\\n\t\t\t0 & \\sin \\alpha & \\cos \\alpha \t\t\n\t\t\t\\end{bmatrix}\n\t\t\\\\\n\t\t&=\n\t\t\\begin{bmatrix}\n\t\t\t0 & -\\sin \\gamma \\cos \\alpha + \\cos \\gamma \\sin \\alpha & \\sin \\gamma \\sin \\alpha + \\cos \\gamma \\cos \\alpha \\\\\n\t\t\t0 & \\cos \\gamma \\cos \\alpha + \\sin \\gamma \\sin \\alpha & -\\cos \\gamma \\sin \\alpha + \\sin \\gamma \\cos \\alpha \\\\\n\t\t\t-1 & 0 & 0\n\t\t\\end{bmatrix}\n\t\t\\\\\n\t\t&=\n\t\t\\begin{bmatrix}\n\t\t\t0 & -\\sin (\\gamma - \\alpha) & \\cos (\\gamma - \\alpha)\\\\\n\t\t\t0 & \\cos (\\gamma - \\alpha) & \\sin (\\gamma - \\alpha)\\\\\n\t\t\t-1 & 0 & 0\n\t\t\\end{bmatrix}\n\\end{align}\n$$\n\n\nWhen near or at the singularity, changing the value of $\\gamma$ and $\\alpha$ in the above matrix has the same effects : the rotation angle $\\gamma - \\alpha$ changes, but the rotation axis remain in th Z dirction : the first column and the last row in the matrix won't change. The only solution for $\\alpha$ and $\\gamma$ to recover different roles is to change $\\beta$ .  \n\n## what's the effect of gimbal lock\n\n### The effect of gimbal lock in video game\n\nLoss  one degree of freedom in a three-dimensional.  \n\n{% asset_img  After_Gimbal_Lock.gif %}\n\nThe arrow does not rotate to the destination Angle according to the straight path. The path is an arc. \n\n{%  asset_img double_move.gif %}\n\nIt is also possible to choose another convention for representing a rotation with a matrix using Euler angles than the above convention above, and also choose other variation intervals for the angles, but in the end there is always at least one value for which a degree of freedom is lost.\n\n{% asset_img change_convention.gif %}\n\n### The effect of gimbal lock in attitude algorithm\n\n[Euler Angle updates attitude](https://blog.csdn.net/bitaohu/article/details/80358773)\n$$\n\\begin{bmatrix}\n\t\\phi'\\\\\n\t\\theta'\\\\\n\t\\psi'\n\\end{bmatrix}\n=\n\\begin{bmatrix}\n1 & \\tan \\theta \\sin \\phi & \\tan\\theta\\cos\\phi \\\\\n0 & \\cos \\phi & -\\sin\\phi \\\\\n0 & \\frac{\\sin \\phi}{\\cos \\theta} & \\frac{\\cos \\phi}{\\cos \\theta}\n\\end{bmatrix}\n\\begin{bmatrix}\n^b \\omega _x \\\\\n^b \\omega _y \\\\\n^b \\omega _z\n\\end{bmatrix}\n$$\n[attitude calculation](https://blog.csdn.net/bitaohu/article/details/80350256)\n\n### External Links\n\n* [Gimble Lock ( video )](https://v.youku.com/v_show/id_XNzkyOTIyMTI=.html)\n* [singularity in robotics](https://zhuanlan.zhihu.com/p/38163558)\n\n","tags":["Gimbal Lock","Euler Angel"]},{"title":"About My Blog","url":"/2019/12/10/About-My-Blog/","content":"\nWelcome to [my blog](www.vislam.top). This blog is based on [Hexo](https://hexo.io/). This blog is hosted on [github](https://github.com/XiuXiang/XiuXiang.github.io). The domain name is bought in [aliyun](https://wanwang.aliyun.com/domain/). \n\n## Quick Start Hexo\n\n```bash\n$ hexo clean \n$ hexo g # generate static files\n$ hexo s # run server\n$ hexo d # deploy to remote sites\n$ hexo new \"article title\" #new an article\n```\n\nCheck [documentation](https://hexo.io/docs/) for more info([Writing](https://hexo.io/docs/writing.html), [Server](https://hexo.io/docs/server.html), [Generating](https://hexo.io/docs/generating.html), ). If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask Hexo on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## The process  of building my blog\n#### 2019.12.10 \n\nThe first tutorial I found is [weiyang's Blog](https://godweiyang.com/2018/04/13/hexo-blog/), which is particular for me. After I followed the above tutorial and have a general understanding, I find a [Blog](https://www.huweihuang.com/) that suited my aesthetic value. So I download the [bolg's theme](https://github.com/huweihuang/hexo-theme-huweihuang) and used in my Blog. The theme is reported, the origin author is Hux ( [his blog](http://huangxuan.me/) ), and the [boilerplate](https://github.com/Huxpro/huxblog-boilerplate) is reported on [his github](https://github.com/Huxpro). But the origin theme is based on Jkyll, which is similar to Hexo. I want to use Hux's theme, so I tried to install Jkyll. Well, there is something wrong when I used Jkyll. I just want to have a Blog to record slam technology, but I don't want to waste too much time on front end technology. So I go back to use the reported Hexo theme. \n\nThere is some tutorial to use this theme. [Tutorial by Hux](https://github.com/Huxpro/huxpro.github.io/blob/master/README.zh.md). [Tutorial by huweihuang](https://github.com/huweihuang/hexo-theme-huweihuang)\n\nI found that this theme doesn't support latex equation. That's a big problem for me. so I search \"github blog hexo latex\", and I get the key word : \"mathjax\". so I search \"github hexo mathjax\", I found several tutorial, and [this blog](https://ranmaosong.github.io/2017/11/29/hexo-support-mathjax/) solved my problem. \n\n#### 2019.12.14\n\nI find a [theme](https://github.com/liuyib/hexo-theme-stun) with a aesthetic [tutorial](https://liuyib.github.io/hexo-theme-stun/zh-CN/). [Liuyib's blog](https://liuyib.github.io/).\n\nI decide to use the theme--stun.\n\n#### 2019.12.18\n\nI insert PDF on blog, ref:[how-to-build-a-blog-with-hexo](http://jialunliu.com/how-to-build-a-blog-with-hexo/)\n\nwhat's Relative paths and Absolute path, ref:[path](https://hexo-guide.readthedocs.io/zh_CN/latest/hexo/advanced/资源文件.html)\n\n[Hexo Official tutorial](https://hexo.io/zh-cn/docs/generating) is best, hah\n\n","tags":["Blog"]}]